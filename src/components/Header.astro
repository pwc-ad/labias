---
import Logo from '@/components/Logo.astro';
import OcticonArrowRight16 from '@/icons/OcticonArrowRight16.astro';
import ButtonText from './ButtonText.astro';
import ButtonIcon from './ButtonIcon.astro';

interface Props {
	buttonNextId?: string;
}

const { buttonNextId = 'next-artwork' } = Astro.props;
---

<header class="flex items-end justify-between px-6 py-3 pb-3">
	<div class="[.scrolled]:text-accent text-2xl transition-colors duration-300" id="logo-wrapper">
		<Logo />
	</div>
	<div class="text-lg">
		<!-- <ButtonText id={buttonNextId} text='Next Artwork'>
			<OcticonArrowRight16 slot="append" />
		</ButtonText> -->
		<ButtonIcon label="Next Artwork" id={buttonNextId}>
			<OcticonArrowRight16 />
		</ButtonIcon>
	</div>
</header>

<script>
	const logoWrapper = document.getElementById('logo-wrapper');

	if (logoWrapper) {
		window.addEventListener(
			'scroll',
			() => {
				const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
				if (scrollHeight <= 0) {
					logoWrapper.classList.remove('scrolled');
					return;
				}
				const scrollPercent = (window.scrollY / scrollHeight) * 100;

				if (scrollPercent >= 25) {
					logoWrapper.classList.add('scrolled');
				} else {
					logoWrapper.classList.remove('scrolled');
				}
			},
			{ passive: true }
		);
	}
</script>
